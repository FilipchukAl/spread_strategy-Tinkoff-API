# spread_strategy-Tinkoff-API

Реализация стратегии торговли на спредах между обыкновенными и привилегированными акциями при помощи Tinkoff API

Стратегия направлена на получение "дополнительного дивиденда" в акциях Сбербанка, Татнефти и Ростелекома, совершенно ничем не рискуя. 

Одной общей особенностью эмитентов является наличия двух типов акций: обыкновенных и привилегированных. Для миноритарных инвесторов практически нет никакой разницы между этими двумя типами акций т.к. дивиденды одинаковые, что по обыкновенным, что по привилегированным акциям.

Единственная разница это ликвидность и вот тут и возникает та самая возможность получить бонусный дивиденд. В случае Татнефти обыкновенных акций больше чем привилегированных в 14 раз, у Сбербанка обычки больше префов в 21 раз, у Ростелекома в 15 раз. Теперь представьте, что крупный игрок хочет купить акций Сбербанка, он не сможет зайти через префы их ликвидность слишком низкая для него. Он заходит через обыкновенные акции и поднимает их стоимость, в то время как привилегированные растут не так сильно (мелкие инвесторы заходят в них, видя рост стоимости обыкновенных акций).

При продаже крупным игроком происходит та же самая комбинация только в обратную сторону, обычка падает быстрее префов. В прошлом разница между обыкновенными акциями и привилегированными доходила до 60%.

![image](https://github.com/FilipchukAl/spread_strategy-Tinkoff-API/assets/107713943/66af8134-2344-4b31-a82d-3fcff65fbcf1)

Данная стратегия идеально подходит для долгосрочных инвесторов, которые «сидят» в бумаге по несколько лет.

Логика работы данной стратегии следующая:

1) Если цена обыкновенной акции практически равна цене привилегированной, то покупайте обыкновенные акции.
   
3) Как только цена обыкновенных акций становится больше привилегированных на 3 рубля (в случае Сбера, в Татнефти можно попробовать поймать и 7-10 рублей), продаете обычку и покупаете такое же количество префов, и 3 рубля с каждой акции оставляете себе.
   
Проделываете так несколько раз. Вот один из примеров сделки. Ничем не рискуя программа заработала 5 400 р.

![image](https://github.com/FilipchukAl/spread_strategy-Tinkoff-API/assets/107713943/cd091727-ccf8-4c8f-8bb7-0fd3b7e047dd)

Описание работы программы:

Вначале программа запросит токен Tinkoff API, как его получить я думаю, вы сами сможете разобраться.  Если токен верен, программа сообщит ваш Account_id.

![image](https://github.com/FilipchukAl/spread_strategy-Tinkoff-API/assets/107713943/c3530e3a-0072-467a-bb95-7195a63600de)

Далее необходимо будет выбрать интересующую вас компанию.

![image](https://github.com/FilipchukAl/spread_strategy-Tinkoff-API/assets/107713943/9c174317-a466-4d3e-b333-02a1dd13c388)

После выбора компании программа сообщит информацию о вашем портфеле и попросит ввести величину спредов. В моем примере перекладка из префов в обычку будет, если спред станет ниже 1 и перекладка из обычки в префа если спред станет больше 3.

После этого программа узнает текущий спред и согласно вашему условию совершит сделку. В моем случае текущий спред 0.38 ниже 1, поэтому программа купила обычку Сбера.

![image](https://github.com/FilipchukAl/spread_strategy-Tinkoff-API/assets/107713943/8baa7469-6028-4ea0-a529-b8a3adac6fa3)

Далее программа будет просто ждать роста спреда до 3-х, чтобы переложится из обычки в префы.
